<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        const  nums= [10,20,60,550,45,770]
        // 需求一：取出所有小于100的数
        let newnums = [];
        for(let i of nums){
            if(i < 100){
                newnums.push(i)
            }

        }
        console.log("需求一:----------"+newnums);
        // 需求二：将所有小于100的数字进行转化：全部 * 2
        let new2nums = []
        for(let i of newnums){
            new2nums.push(i * 2)

        }
        console.log("需求二:----------"+new2nums);
        // 需求三：将所有new2nums的数字相加，得到最终的结果
        let add = 0;
        for(let i of new2nums){
            add += i

        }
        console.log("需求三:----------"+add);



        // 使用高阶函数 filter（过滤） map(映射) reduce
        // filter（过滤） 中的回调函数有一个要求，必须返回一个boolean值：
        // 1.当返回的是true时，函数内部会自动将这次的回调的”数“加入到新的数组中
        // 2.当返回的false时，函数内部会过滤掉这个的"数"

        // filter（过滤）返回的时布尔值
        // 需求一：取出所有小于100的数
        const Nums = [1, 5 ,50 , 800, 66 ,551 ,102,66]
        let newNum = Nums.filter(function(n){
            return n <100

        })
        console.log("filter-----"+newNum)
        
        // map(映射)返回数据类型的值
        // 需求二：将所有小于100的数字进行转化：全部 * 2
        let newNum2 = newNum.map(function(n){
            return n * 2

        })
        console.log("map-----"+newNum2)


        // 需求三：将所有new2nums的数字相加，得到最终的结果

        //reduce--对数组中所有的内容进行汇总（全部相加或者其他计算）
        // reduce(参数一，参数二)
        // 一般"参数一"是一个function(){}
        // 一般参数二要设置成为0，
        // 过程：(举例)
        // 第一次preValue 0 n 20 
        // 第一次preValue 0+20 n 40
        // 第一次preValue 0+20+40 n 80
        // 第一次preValue 0+20+40+80 n 100
        // 所以最后的结果是 preValue + n ===  0+20+40+80 +100

        let newNum3 = newNum2.reduce(function(preValue,n){
            return preValue + n

        },0)
        console.log("reduce-----"+newNum3)

        // 高阶函数的链式编程
        const Numss = [12, 52 ,50 , 800, 66 ,551 ,102,66]
        let newNumsss = Numss.filter(function(n){
            return n < 100
        }).map(function(n){
            return n * 2
        }).reduce(function(preValue,n){
            return preValue + n
        },0)
        console.log(newNumsss)
        

        // 箭头函数的初体验：
        let newNumss = Numss.filter( n => n < 100).map( n => n * 2).reduce((preValue,n) => preValue + n);
        console.log("箭头函数-----"+newNumss)

    </script>
    
</body>
</html>